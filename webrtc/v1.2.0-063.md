# p2p data api 对连接对象的扩展

## p2p data api 的描述

p2p data api可以让web程序通过p2p进行发送和接收普通的应用程序数据。
这里的应用数据更多是指非媒体数据。当然p2p data api也是能承载媒体数据的。

data api的设计参考了websocket的模型，所以模型上也是一个路子。

## idl 分析

partial interface RTCPeerConnection {
  readonly attribute RTCSctpTransport? sctp;
  RTCDataChannel createDataChannel(USVString label,
    optional RTCDataChannelInit dataChannelDict = {});
  attribute EventHandler ondatachannel;
};

从idl上看，在RTCPeerConnection上扩展了一个方法两个属性。
方法是创建DataChannel对象，
属性包括DataChannel的底层传输sctp，也包含一个事件处理。

## 属性

sctp，目前webrtc指定的DataChannel底层传输就是sctp。
如果连接对象没有协商data channel，那么sctp的值就为null。
在获取方面，返回的是内部状态SctpTransport。

ondatachannel，用于处理datachannel事件
